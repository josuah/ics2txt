.Dd $Mdocdate: Mar 1 2020$
.Dt ICS2TXT 1
.Os
.
.
.Sh NAME
.
.Nm ics2txt
.Nd convert ics file to simpler tsv or txt formats
.
.
.Sh SYNOPSIS
.
.Nm ics2txt-tsv Ar <file.ics >file.tsv
.Nm ics2txt-ics Ar <file.tsv >file.ics
.Nm ics2txt-txt Ar <file.tsv >file.txt
.Nm ics2txt-back Ar <file.txt >file.tsv
.
.Sh DESCRIPTION
.
.Nm
is a set of tools to convert between iCalendar 
.Pq ical
and other simple text formats: tsv, custom-text.
They all read from either stdin or the file passed as argument, and
write to stdout.
.
.Pp
.The
.Pa file.tsv
files have one line per event, all with the following fields,
separated by one tab:
.
.Bl -offset 1n -width 1n -enum -compact
.
.It
Begining (epoch)
.
.It
End (epoch)
.
.It
Category
.
.It
Location
.
.It
Summary
.
.It
Description
.
.El
.
.
.Sh EXAMPLES
.
Convert a calendar from HTTP
.Pa .ics
to custom
.Pa .txt
sorted by beginning:
.Dl curl "$url.ics" | ics2txt-tsv | sort -n -k 1,1 | ics2txt-txt
.
.Pp
Convert a custom
.Pa .txt
format back to an
.Pa .ics
file and publish it:
.Dl ics2txt-back cal.txt | ics2txt-ics | ssh "www@$host" 'cat >/var/www/cal.ics'
.
.Pp
Split an
.ics
file according to the category, saved as
.Pa .tsv :
.Dl ics2txt-tsv cal.txt | awk -F '\t' '{ file = $3".tsv"; print >>file }'
.
.
.Sh SEE ALSO
.
.Xr cal 1 ,
.Xr calendar 1 ,
.Xr date 1
.
.
.Sh STANDARDS
.
.Rs
.%A Desruisseaux
.%D September 2009
.%T Internet Calendaring and Scheduling Core Object Specification (iCalendar)
.%R RFC 5545
.Re
.
.
.Sh AUTHORS
.
.An Josuah Demangeon Aq Mt me@josuah.net
